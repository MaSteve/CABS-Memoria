\ProvidesPackage{preamble}

\usepackage[spanish]{babel}
\usepackage[utf8]{inputenc}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{latexsym}
\usepackage{mathtools}
\usepackage{ebproof}
\usepackage{stmaryrd}
\usepackage[linguistics]{forest} % drawing trees
\usepackage{anysize}
\usepackage{pdflscape}

\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{float}
\usepackage{verbatim}
\usepackage[explicit]{titlesec}
\DeclareGraphicsExtensions{.pdf,.png,.jpg}

% Code snippets
\usepackage{listings}
\usepackage{xcolor}

\definecolor{blue}{rgb}{0.13,0.13,1}
\definecolor{green}{rgb}{0,0.5,0}
\definecolor{red}{rgb}{0.9,0,0}
\definecolor{grey}{rgb}{0.46,0.45,0.48}
\definecolor{purple}{rgb}{0.58,0,0.82}
\definecolor{background}{rgb}{0.95,0.95,0.92}

\lstset{language=Java,
  showspaces=false,
  showtabs=false,
  breaklines=true,
  showstringspaces=false,
  breakatwhitespace=true,
  keywordstyle=\color{blue},
  backgroundcolor=\color{background},
  commentstyle=\color{green},
  numberstyle=\tiny\color{grey},
  stringstyle=\color{purple},
  basicstyle=\ttfamily,
  moredelim=[il][\textcolor{grey}]{$$},
  moredelim=[is][\textcolor{grey}]{\%\%}{\%\%},
  tabsize=4,
  keepspaces=true,
  numbers=left,
  numbersep=5pt
}

% Macros

% CABS
\newcommand{\thread}[0]{\textbf{thread}}

% Generales
\newcommand{\ABS}[0]{\textbf{ABS}}
\newcommand{\AExp}[0]{\textbf{Aexp}}
\newcommand{\am}[0]{\textbf{AM}}
\newcommand{\args}[0]{\text{arg}}
\newcommand{\Args}[0]{\textbf{Args}}
\newcommand{\Aux}[0]{\textbf{Aux}}
\newcommand{\BExp}[0]{\textbf{Bexp}}
\newcommand{\block}[0]{\textbf{Block}}
\newcommand{\CABS}[0]{\textbf{CABS}}
\newcommand{\code}[0]{\textbf{Code}}
\newcommand{\cont}[0]{\textbf{Cont}}
\newcommand{\decp}[0]{\textbf{Dec}{\scriptsize P}}
\newcommand{\decv}[0]{\textbf{Dec}{\scriptsize V}}
\newcommand{\Enve}[0]{\textbf{Env}{\scriptsize E}}
\newcommand{\Envp}[0]{\textbf{Env}{\scriptsize P}}
\newcommand{\Envv}[0]{\textbf{Env}{\scriptsize V}}
\newcommand{\enve}[0]{env_{\mbox{\scriptsize\textit{E}}}}
\newcommand{\envp}[0]{env_{\mbox{\scriptsize\textit{P}}}}
\newcommand{\envv}[0]{env_{\mbox{\scriptsize\textit{V}}}}
\newcommand{\Exp}[0]{\textbf{Exp}}
\newcommand{\ff}[0]{\textbf{ff}}
\newcommand{\FF}[0]{\textbf{FF}}
\newcommand{\FV}[0]{\text{FV}}
\newcommand{\func}[0]{\textbf{func}}
\newcommand{\Func}[0]{\textbf{Func}}
\newcommand{\init}[0]{\textbf{init}}
\newcommand{\loc}[0]{\textbf{Loc}}
\newcommand{\main}[0]{\textit{main}}
\newcommand{\n}[0]{\textbf{N}}
\newcommand{\Nat}[0]{\mathbb{N}}
\newcommand{\Next}[0]{\textbf{next}}
\newcommand{\nil}[0]{\textbf{nil}}
\newcommand{\num}[0]{\textbf{Num}}
\newcommand{\p}[0]{\textbf{P}}
\newcommand{\pname}[0]{\textbf{Pname}}
\newcommand{\proc}[0]{\textbf{Proc}}
\newcommand{\Prog}[0]{\textbf{Prog}}
\newcommand{\pstate}[0]{\textbf{PState}}
\newcommand{\return}[0]{\textbf{return }}
\newcommand{\RP}[0]{\textbf{RP}}
\newcommand{\stack}[0]{\textbf{Stack}}
\newcommand{\start}[0]{\textbf{start}}
\newcommand{\State}[0]{\textbf{State}}
\newcommand{\Stm}[0]{\textbf{Stm}}
\newcommand{\store}[0]{\textbf{Store}}
\newcommand{\T}[0]{\textbf{T}}
\newcommand{\TT}[0]{\textbf{TT}}
\newcommand{\Tt}[0]{\textbf{tt}}
\newcommand{\Undef}[0]{\text{ undef}}
\newcommand{\Unstack}[1]{\text{\scriptsize{UNSTACK}}\left(#1\right)}
\newcommand{\var}[0]{\text{ var}}
\newcommand{\Var}[0]{\textbf{Var}}
\newcommand{\while}[0]{\textbf{While}}
\newcommand{\A}[0]{\mathcal{A}}
\newcommand{\Bb}[0]{\mathcal{B}}
\newcommand{\B}[0]{\mathbb{B}}
\newcommand{\C}[0]{\mathcal{C}}
\newcommand{\D}[0]{\mathcal{D}}
\newcommand{\G}[0]{\mathbf{G}}
\newcommand{\F}[0]{\mathbf{F}}
\newcommand{\M}[0]{\mathcal{M}}
\newcommand{\N}[0]{\mathcal{N}}
\renewcommand{\O}[0]{\mathcal{O}}
\renewcommand{\P}[0]{\mathbf{P}}
\renewcommand{\S}[0]{\mathcal{S}}
\newcommand{\V}[0]{\mathbb{V}}
\newcommand{\Tcal}[0]{\mathcal{T}}
\newcommand{\Z}[0]{\mathbb{Z}}
\newcommand{\sam}[0]{\S_{\mbox{\scriptsize am}}}
\newcommand{\scs}[0]{\S_{\mbox{\scriptsize cs}}}
\newcommand{\sds}[0]{\S_{\mbox{\scriptsize ds}}}
\newcommand{\sns}[0]{\S_{\mbox{\scriptsize ns}}}
\newcommand{\ssos}[0]{\S_{\mbox{\scriptsize sos}}}
\newcommand{\stns}[0]{\rightarrow}
\newcommand{\staexp}[0]{\rightarrow_{Aexp}}
\newcommand{\stbexp}[0]{\rightarrow_{Bexp}}
\newcommand{\stsos}[0]{\Rightarrow}
\newcommand{\stsost}[1]{\stackrel{#1}{\Rightarrow}}
\newcommand{\stam}[0]{\rhd}
\newcommand{\st}[2]{\left\langle#1, #2\right\rangle}
\newcommand{\ste}[3]{\left\langle#1, #2, #3\right\rangle}
\newcommand{\ass}[2]{\left[ #1\mapsto#2 \right]}
\newcommand{\eval}[1]{\left\llbracket #1 \right\rrbracket}
\newcommand{\fpart}[0]{\hookrightarrow}
\newcommand{\ftot}[0]{\rightarrow}

% AExp
\newcommand{\numa}[0]{\left[ \text{num}_{\A} \right]}
\newcommand{\varal}[0]{\left[ \text{var}_{\A}^{L} \right]}
\newcommand{\varag}[0]{\left[ \text{var}_{\A}^{G} \right]}
\newcommand{\opaa}[0]{\left[ \bigodot_{\A}^{1} \right]}
\newcommand{\opab}[0]{\left[ \bigodot_{\A}^{2} \right]}
\newcommand{\opac}[0]{\left[ \bigodot_{\A}^{3} \right]}
\newcommand{\unaa}[0]{\left[ \text{unstack}_{\A}^{1} \right]}
\newcommand{\unab}[0]{\left[ \text{unstack}_{\A}^{2} \right]}
\newcommand{\calla}[0]{\left[ \text{call}_{\A} \right]}

% Sematics
\newcommand{\declic}[0]{\left[ \text{Decl}_{\text{C}}^{int} \right]}
\newcommand{\declbc}[0]{\left[ \text{Decl}_{\text{C}}^{bool} \right]}
\newcommand{\assac}[0]{\left[ \text{ass}_{\text{C}}^{1} \right]}
\newcommand{\assvc}[0]{\left[ \text{ass}_{\text{C}}^{2} \right]}
\newcommand{\compac}[0]{\left[ \text{comp}_{\text{C}}^{1} \right]}
\newcommand{\compbc}[0]{\left[ \text{comp}_{\text{C}}^{2} \right]}
\newcommand{\wac}[0]{\left[ \text{while}_{\text{C}} \right]}
\newcommand{\wtc}[0]{\left[ \text{while}_{\text{C}}^{\True} \right]}
\newcommand{\wfc}[0]{\left[ \text{while}_{\text{C}}^{\False} \right]}
\newcommand{\ifac}[0]{\left[ \text{if}_{\text{C}} \right]}
\newcommand{\iftc}[0]{\left[ \text{if}_{\text{C}}^{\True} \right]}
\newcommand{\iffc}[0]{\left[ \text{if}_{\text{C}}^{\False} \right]}
\newcommand{\enac}[0]{\left[ \text{end}_{\text{C}} \right]}
\newcommand{\threadc}[0]{\left[ \text{thread}_{\text{C}} \right]}
\newcommand{\customrule}[1]{\left[ \text{#1} \right]}

\newcommand{\asssos}[0]{\left[ \text{ass}_{\text{sos}} \right]}
\newcommand{\skipsos}[0]{\left[ \text{skip}_{\text{sos}} \right]}
\newcommand{\compsos}[0]{\left[ \text{comp}_{\text{sos}}^{1} \right]}
\newcommand{\compsosp}[0]{\left[ \text{comp}_{\text{sos}}^{2} \right]}
\newcommand{\wsos}[0]{\left[ \text{while}_{\text{sos}} \right]}
\newcommand{\ifttsos}[0]{\left[ \text{if}_{\text{sos}}^{\Tt} \right]}
\newcommand{\ifffsos}[0]{\left[ \text{if}_{\text{sos}}^{\ff} \right]}
\newcommand{\rsos}[0]{\left[ \text{repeat}_{\text{sos}} \right]}
\newcommand{\fsos}[0]{\left[ \text{for}_{\text{sos}} \right]}

% While syntax
\newcommand{\While}[0]{\textbf{While}}
\renewcommand{\while}[2]{\mbox{\textbf{while}} (#1) \{#2\}}
\newcommand{\Repeat}[2]{\mbox{\textbf{repeat} } #1 \mbox{ \textbf{until} } #2}
\newcommand{\For}[3]{\mbox{\textbf{for} } #1 \mbox{ \textbf{to} } #2 \mbox{ \textbf{do} } #3}
\newcommand{\If}[3]{\mbox{\textbf{if}} (#1) \{#2\} \mbox{\textbf{else}} \{#3\}}
\newcommand{\Ifp}[2]{\mbox{\textbf{if}} (#1) \{#2\}}
\newcommand{\Skip}[0]{\mbox{\textbf{skip}}}
\renewcommand{\=}[0]{:=}
\newcommand{\eq}[0]{=} % used within trees
\renewcommand{\;}[0]{\mbox{;\,}}
\newcommand{\Case}[2]{#1, &\text{if } #2\\}
\newcommand{\mult}[1]{
\left\{
\begin{array}{l l}
#1
\end{array}
\right.
}

% Abstract Machine syntax
\newcommand{\Push}[1]{\text{\scriptsize{PUSH-}}#1}
\newcommand{\add}[0]{\text{\scriptsize{ADD}}}
\newcommand{\mul}[0]{\text{\scriptsize{MULT}}}
\newcommand{\sub}[0]{\text{\scriptsize{SUB}}}
\newcommand{\True}[0]{\text{\scriptsize{TRUE}}}
\newcommand{\False}[0]{\text{\scriptsize{FALSE}}}
\newcommand{\EQ}[0]{\text{\scriptsize{EQ}}}
\newcommand{\LE}[0]{\text{\scriptsize{LE}}}
\newcommand{\AND}[0]{\text{\scriptsize{AND}}}
\newcommand{\NEG}[0]{\text{\scriptsize{NEG}}}
\newcommand{\Fetch}[1]{\text{\scriptsize{FETCH-}}#1}
\newcommand{\Store}[1]{\text{\scriptsize{STORE-}}#1}
\newcommand{\Noop}[0]{\text{\scriptsize{NOOP}}}
\newcommand{\Branch}[2]{\text{\scriptsize{BRANCH(}}#1, #2\text{\scriptsize{)}}}
\newcommand{\Loop}[2]{\text{\scriptsize{LOOP(}}#1, #2\text{\scriptsize{)}}}

% Denotational Semantics
\newcommand{\cond}[3]{\textbf{cond} \left( #1, #2, #3 \right)}
\newcommand{\id}[0]{\text{id}}
\newcommand{\ord}[0]{\sqsubseteq}

\setlength{\parindent}{0cm}
